<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:composite="http://java.sun.com/jsf/composite"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough">
    <composite:interface>
        <composite:attribute name="contents" />
        <composite:attribute name="enableEdit" />
        <composite:attribute name="enableNew" />
        <composite:attribute name="modalId" />
    </composite:interface>

    <composite:implementation>
        <b:row class="webvert_ca_row_layout webvert_ca_other_row_layout">
            <b:column span="1"
                      class="webvert_co_header_column_layout">
                <h3 class="webvert_heading_color_dark 
                    webvert_ca_inner_heading_layout">
                    Contents
                </h3>
            </b:column>
            <b:column span="11"
                      class="webvert_co_new_button_column_layout">
                <b:commandButton icon="plus"
                                 value=""
                                 p:data-target=".modalPseudoClass"
                                 p:data-toggle="modal"
                                 onclick="return false;"
                                 rendered="#{cc.attrs.enableNew eq 'true'}"/>
            </b:column>
        </b:row>

        <c:choose>
            <c:when test="#{not empty cc.attrs.contents}">
                <b:accordion class="webvert_ca_row_layout 
                             webvert_co_accordion_layout">
                    <c:forEach items="#{contentModel.getContentTypesForContents(cc.attrs.contents)}"
                               var="contentType"
                               id="forEachCampaign">
                        <b:panel title="#{contentType}" style="height: 100%">
                            <c:forEach items="#{contentModel.getContentWithType(cc.attrs.contents, contentType)}"
                                       var="content"
                                       id="forEachCampaign">
                                <b:panel class="webvert_co_accordion_panel_layout">
                                    <b:column span="3" 
                                              style="#{contentType eq 'Image URL' ? 'padding-top: 0px' : 'padding-top: 16px'}">
                                        <c:choose>
                                            <c:when test="#{contentType eq 'Image URL'}">
                                                <img src="#{content.value}" 
                                                     class="webvert_co_image_layout"/>
                                            </c:when>
                                            <c:otherwise>
                                                <h:outputText value="#{content.value}" 
                                                              style="padding-top: 16px"/>
                                            </c:otherwise>
                                        </c:choose>
                                    </b:column>
                                    <b:column span="8">
                                        <b:row class="webvert_co_lable_row_layout">
                                            <b:column span="6">
                                                <h:outputText value="Description:" 
                                                              class="webvert_bold_lable_layout"/>
                                            </b:column>
                                            <b:column span="6">
                                                <h:outputText value="#{content.description}"/>
                                            </b:column>
                                        </b:row>
                                        <b:row class="webvert_co_lable_row_layout">
                                            <b:column span="6">
                                                <h:outputText value="Price per request:"
                                                              class="webvert_bold_lable_layout"/>
                                            </b:column>
                                            <b:column span="6">
                                                <h:outputText value="#{content.pricePerRequest}"/>
                                            </b:column>
                                        </b:row>
                                        <b:row class="webvert_co_lable_row_layout">
                                            <b:column span="6">
                                                <h:outputText value="Number of requests ordered:"
                                                              class="webvert_bold_lable_layout"/>
                                            </b:column>
                                            <b:column span="6">
                                                <h:outputText value="#{content.numberOfRequests}"/>
                                            </b:column>
                                        </b:row>
                                    </b:column>
                                    <b:column span="1" style="height: 100%">
                                        <b:commandButton icon="pencil"
                                                         value=""
                                                         class="webvert_co_edit_button_layout"
                                                         rendered="#{cc.attrs.enableEdit eq 'true'}">
                                        </b:commandButton>
                                    </b:column>
                                </b:panel>
                            </c:forEach>
                        </b:panel>
                    </c:forEach>
                </b:accordion>

            </c:when>
            <c:otherwise>
                <h4 class="webvert_heading_color_dark"
                    style="text-align: center; margin-top: 10px">
                    There are currently no contents available to display
                </h4>
            </c:otherwise>
        </c:choose>
    </composite:implementation>
</html>

