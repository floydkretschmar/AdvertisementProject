<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:prim="http://primefaces.org/ui">
    <h:head>
        <h:outputStylesheet library="css" name="prelogin.css"/>
        <f:metadata>
            <f:viewAction action="#{applicationModel.redirectFirstPage()}"/>
        </f:metadata>
    </h:head>
    <h:body class="webvert">
        <ui:composition template="./resources/templates/BaseLayoutTemplate.xhtml">
            <ui:define name="content">
                <b:container class="webvert_prelogin_container">
                    <h:form class="form-signin
                            webvert_prelogin_form" 
                            prependId="false">
                        <b:row>
                            <b:column span="12">
                                <h2 class="form-signin-heading 
                                    webvert_heading_color
                                    webvert_heading_layout">
                                #{labels.REGISTER_Header_Register}
                                </h2>
                            </b:column>
                        </b:row>
                        <b:row>
                            <b:column span="12">
                                <b:inputText id="email" 
                                             value="#{registrationModel.EMailAddress}"
                                             placeholder="#{labels.REGISTER_InputTextPlaceholder_EmailAddress}" 
                                             styleClass="#{component.valid and not registrationModel.error ? '' : 'webvert_input_control_invalid' }"
                                             required="true">
                                </b:inputText>
                            </b:column>
                        </b:row>
                        <b:row>
                            <b:column span="12">
                                <b:inputSecret id="password" 
                                               value="#{registrationModel.password}"
                                               placeholder="#{labels.REGISTER_InputTextPlaceholder_Password}" 
                                               binding="#{password}" 
                                               styleClass="#{component.valid? '' : 'webvert_input_control_invalid' }"
                                               required="true">
                                    <f:validator validatorId="passwordValidator" />
                                    <f:attribute name="confirm" value="#{confirmPassword.submittedValue}" />
                                </b:inputSecret>
                            </b:column>
                        </b:row>
                        <b:row>
                            <b:column span="12">
                                <b:inputSecret id="confirm" 
                                               binding="#{confirmPassword}" 
                                               placeholder="#{labels.REGISTER_InputTextPlaceholder_ConfirmPassword}" 
                                               type="password"
                                               styleClass="#{component.valid? '' : 'webvert_input_control_invalid' }"
                                               required="true">
                                    <f:validator validatorId="passwordValidator" />
                                    <f:attribute name="confirm" value="#{password.submittedValue}" />
                                </b:inputSecret>
                            </b:column>
                        </b:row>
                        <b:row>
                            <b:column span="12">
                                <h4 id="personalInfo" class="form-signin-heading webvert_heading_color">
                                    #{labels.REGISTER_Header_PersonalInformation}
                                </h4>
                            </b:column>
                        </b:row>
                        <b:row>
                            <b:column span="6">
                                <b:inputText id="firstName" 
                                             value="#{registrationModel.firstName}"
                                             placeholder="#{labels.REGISTER_InputTextPlaceholder_FirstName}" 
                                             requiredMessage="Please enter your first name."
                                             styleClass="#{component.valid? '' : 'webvert_input_control_invalid' }"
                                             required="true">
                                </b:inputText>
                            </b:column>
                            <b:column span="6">
                                <b:inputText id="lastName" 
                                             value="#{registrationModel.lastName}"
                                             placeholder="#{labels.REGISTER_InputTextPlaceholder_LastName}" 
                                             required="true"
                                             styleClass="#{component.valid? '' : 'webvert_input_control_invalid' }">
                                </b:inputText>
                            </b:column>
                        </b:row>
                        <b:row>
                            <b:column span="12" style="margin-bottom: 10px">
                                <b:datepicker id="birthday" 
                                              mode="toggle-icon" 
                                              placeholder="#{labels.REGISTER_InputTextPlaceholder_Birthdate}" 
                                              change-month="true"
                                              change-year="true"
                                              showWeek="true" 
                                              firstDay="1" 
                                              value="#{registrationModel.birthdate}"
                                              required="true"/>
                            </b:column>
                        </b:row>
                        <b:row>
                            <b:column span="12">
                                <b:inputText id="company" 
                                             value="#{registrationModel.company}"
                                             placeholder="#{labels.REGISTER_InputTextPlaceholder_Company}" />
                            </b:column>
                        </b:row>
                        <b:row>
                            <b:column span="12">
                                <h4 id="personalInfo" class="form-signin-heading webvert_heading_color">
                                    #{labels.REGISTER_Header_Address}
                                </h4>
                            </b:column>
                        </b:row>
                        <b:row>
                            <b:column span="10">
                                <b:inputText id="street" 
                                             value="#{registrationModel.street}"
                                             placeholder="#{labels.REGISTER_InputTextPlaceholder_Street}"
                                             styleClass="#{component.valid? '' : 'webvert_input_control_invalid' }"
                                             required="true">
                                </b:inputText>
                            </b:column>
                            <b:column span="2">
                                <b:inputText id="number" 
                                             value="#{registrationModel.houseNumber}"
                                             placeholder="#{labels.REGISTER_InputTextPlaceholder_HouseNumber}" 
                                             styleClass="#{component.valid? '' : 'webvert_input_control_invalid' }"
                                             required="true">
                                </b:inputText>
                            </b:column>
                        </b:row>
                        <b:row>
                            <b:column span="4">
                                <b:inputText id="areaCode" 
                                             value="#{registrationModel.areaCode}"
                                             placeholder="#{labels.REGISTER_InputTextPlaceholder_AreaCode}"
                                             styleClass="#{component.valid? '' : 'webvert_input_control_invalid' }"
                                             required="true">
                                </b:inputText>
                            </b:column>
                            <b:column span="8">
                                <b:inputText id="city" 
                                             value="#{registrationModel.city}"
                                             placeholder="#{labels.REGISTER_InputTextPlaceholder_City}" 
                                             styleClass="#{component.valid? '' : 'webvert_input_control_invalid' }"
                                             required="true">
                                </b:inputText>
                            </b:column>
                        </b:row>
                        <b:row>
                            <b:column span="12">
                                <b:inputText id="country" 
                                             value="#{registrationModel.country}"
                                             placeholder="#{labels.REGISTER_InputTextPlaceholder_Country}" />
                            </b:column>
                        </b:row>
                        <b:row>
                            <b:column span="12">
                                <b:alert severity="danger"
                                         rendered="#{registrationModel.error}">
                                    #{messages.REGISTER_Error_EMailAlreadyInUse}
                                </b:alert>
                            </b:column>
                        </b:row>
                        <b:row>
                            <b:column span="6">
                                <b:commandButton look="default btn-block" 
                                                 value="#{labels.REGISTER_Button_Cancel}" 
                                                 icon="remove" 
                                                 immediate="true"
                                                 class="webvert_button_bordercolor
                                                 webvert_prelogin_button_layout"
                                                 action="login"/>
                            </b:column>
                            <b:column span="6">
                                <b:commandButton look="default btn-block" 
                                                 value="#{labels.REGISTER_Button_Register}" 
                                                 icon="log-in" 
                                                 class="webvert_primary_button_color 
                                                 webvert_button_bordercolor
                                                 webvert_prelogin_button_layout"
                                                 update="@form"
                                                 action="#{registrationModel.register()}"/>
                            </b:column>
                        </b:row>
                    </h:form>
                </b:container>
            </ui:define>
        </ui:composition>
    </h:body>
</html>

